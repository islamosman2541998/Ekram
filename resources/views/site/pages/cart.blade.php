@extends('site.app')
@section('title', __('cart'))


@section('content')


    <main>


        {{-- <div class="head">
            <svg xmlns="http://www.w3.org/2000/svg" width="200" height="40.693" viewBox="0 0 349.909 40.693">
                <path id="Path_62151" data-name="Path 62151"
                    d="M816.964,419.99h.485v5.531H802.365c-7.324,0-9.118-3.979-9.118-7.858a15.7,15.7,0,0,1,3.25-9.118,13.746,13.746,0,0,0-.437,3.492c0,4.025,1.748,7.954,6.743,7.954h9.312l-.777-23.038,5.141-2.668Zm-16.005-10.622-1.456,2.814h9.9l-.242-2.814h-1.891c-1.116,0-2.62-.34-2.62-1.406,0-1.552,2.135-1.794,3.4-1.794a3.327,3.327,0,0,1,1.212.146l-2.181-2.571a3.61,3.61,0,0,0-1.019-.1c-2.62,0-4.706,1.552-4.706,3.25,0,.873.533,1.746,1.989,2.473ZM816.68,419.99v5.531h13.726a40.248,40.248,0,0,0,.34-5.093,106.326,106.326,0,0,0-1.358-14.453l-5,2.619a105.087,105.087,0,0,1,.969,11.4Zm7.712-19.595a2.609,2.609,0,0,0-2.621-2.619,2.639,2.639,0,0,0-2.619,2.619,2.672,2.672,0,0,0,2.619,2.619A2.64,2.64,0,0,0,824.392,400.4Zm6.354,0a2.62,2.62,0,0,0-5.239,0,2.62,2.62,0,0,0,5.239,0Zm5.87,19.109v-.048c0,3.589,2.522,6.064,5.433,6.064h1.019V419.99h-.679c-.146,0-.581,0-.679-.873l-.631-24.882-5.044,2.716Zm27.26-6.062a12.443,12.443,0,0,0-4.317-.873c-3.056,0-4.462,1.5-4.462,3.1,0,2.037,2.279,4.316,6.258,4.316.194,0,1.017,0,1.746-.048l3.444,5.579h-24.2V419.99h8.585a6.767,6.767,0,0,1-1.8-4.656c0-3.637,2.814-7.179,7.906-7.179C860.676,408.156,862.324,409.708,863.876,413.443Zm2.43,20.274a14.552,14.552,0,0,0,3.056.389c6.014,0,8.875-4.608,9.554-8.585h13.872V419.99H892.4a116.134,116.134,0,0,0-1.31-14.016l-5,2.619a105.533,105.533,0,0,1,.971,11.4h-8v-9.118l-5.723,3.2c.146,1.358.34,5.723.34,8.537C873.679,427.9,870.962,432.456,866.306,433.717Zm23.136-2.085a3.1,3.1,0,1,0-3.1,3.1A3.126,3.126,0,0,0,889.442,431.631Zm3.109-11.641v5.531h13.726a40.247,40.247,0,0,0,.34-5.093,106.359,106.359,0,0,0-1.358-14.453l-5,2.619a105.088,105.088,0,0,1,.969,11.4Zm7.712-19.595a2.609,2.609,0,0,0-2.62-2.619,2.639,2.639,0,0,0-2.619,2.619,2.672,2.672,0,0,0,2.619,2.619A2.64,2.64,0,0,0,900.264,400.4Zm6.354,0a2.62,2.62,0,0,0-5.239,0,2.62,2.62,0,0,0,5.239,0Zm29.12,25.125V419.99c-.631,0-1.891-.146-1.989-.921l-1.019-16.684-4.85,3.783.292,2.037c-5.579,1.406-8.537,4.51-8.537,8.633,0,4.608,3.444,6.014,6.935,6.014a18.882,18.882,0,0,0,3.008-.292l.048-.29C930.692,424.938,932.875,425.521,935.737,425.521Zm-8.779-27.648a2.62,2.62,0,1,0-2.62,2.62A2.63,2.63,0,0,0,926.959,397.873Zm1.746,19.6s-.727.048-1.406.048c-1.8,0-3.929-.583-3.929-1.892,0-.583,2.473-1.6,5.044-2.183Zm4.608-19.6a2.6,2.6,0,0,0-2.62-2.571,2.6,2.6,0,1,0,2.62,2.571Zm1.653,27.648h14.356V419.99h-.436l-.437-25.707-5.093,2.668c.05,3.735.146,8.293.2,12.174.1,3.637.194,7.275.242,10.864h-8.827Zm35.748-5.531c-.1-3.977-.629-10.137-.823-11.835l-5.045,2.669c.389,3.25.583,7.275.583,9.166H963.2c-.1-3.783-.485-7.856-.631-9.6l-5.044,2.668c.29,2.764.436,4.56.436,5.529v1.406H948.6v5.531H977.99a26.332,26.332,0,0,0,.292-4.075c0-4.075-.679-13.58-.875-15.376l-5.043,2.668c.388,3.492.581,8.925.631,11.252Zm34.994-25.415h-5.335l-12.757,34.485h5.335Zm29.266,30.946V419.99c-.629,0-1.892-.146-1.988-.921l-1.019-16.684-4.852,3.783.292,2.037c-5.577,1.406-8.537,4.51-8.537,8.633,0,4.608,3.444,6.014,6.937,6.014a18.877,18.877,0,0,0,3.006-.292l.05-.29C1029.93,424.938,1032.113,425.521,1034.973,425.521Zm-8.779-27.648a2.619,2.619,0,1,0-2.619,2.62A2.63,2.63,0,0,0,1026.194,397.873Zm1.746,19.6s-.727.048-1.406.048c-1.794,0-3.929-.583-3.929-1.892,0-.583,2.475-1.6,5.045-2.183Zm4.608-19.6a2.6,2.6,0,0,0-2.619-2.571,2.6,2.6,0,1,0,2.619,2.571Zm1.653,27.648h14.405V419.99h-.34a125.084,125.084,0,0,0-1.358-14.016l-5,2.619a105.025,105.025,0,0,1,.969,11.4H1034.2Zm7.712,5.577a2.64,2.64,0,0,0-2.62-2.619,2.619,2.619,0,1,0,0,5.237A2.64,2.64,0,0,0,1041.913,431.1Zm6.354,0a2.62,2.62,0,1,0-2.619,2.619A2.672,2.672,0,0,0,1048.267,431.1ZM1069.9,419.99c-.1-3.977-.629-10.137-.825-11.835l-5.043,2.669c.388,3.25.581,7.275.581,9.166h-2.133c-.1-3.783-.485-7.856-.631-9.6l-5.044,2.668c.292,2.764.438,4.56.438,5.529v1.406h-9.362v5.531h29.975V419.99h-.39c-.1-4.51-.679-12.32-.873-13.92l-5.043,2.668c.387,3.492.581,8.925.631,11.252Zm7.184,5.531h14.405V419.99h-.34a124.7,124.7,0,0,0-1.356-14.016l-5,2.619a105.533,105.533,0,0,1,.971,11.4h-8.683Zm7.712,5.577a2.638,2.638,0,0,0-2.619-2.619,2.619,2.619,0,1,0,0,5.237A2.638,2.638,0,0,0,1084.8,431.1Zm6.354,0a2.619,2.619,0,1,0-2.619,2.619A2.672,2.672,0,0,0,1091.151,431.1Zm-.384-11.108v5.531h13.726a40.222,40.222,0,0,0,.339-5.093,106.656,106.656,0,0,0-1.358-14.453l-5,2.619a105.025,105.025,0,0,1,.969,11.4Zm6.354-20.37h2.231c-1.31-.679-1.844-1.456-1.844-2.377,0-1.65,1.939-3.2,4.462-3.2a2.808,2.808,0,0,1,.921.1l2.135,2.765a5.147,5.147,0,0,0-1.213-.146c-1.213,0-3.25.048-3.25,1.552,0,1.115,1.454,1.31,2.571,1.31h1.746l.242,3.346h-9.36Zm8.2,34.1a14.552,14.552,0,0,0,3.056.389c6.014,0,8.875-4.608,9.554-8.585h.533V419.99h-.387v-9.118l-5.723,3.2c.146,1.358.34,5.723.34,8.537C1112.692,427.9,1109.976,432.456,1105.32,433.717Zm20.859-13.726h-8.828v5.531h14.018l-.631-31.237-5.093,2.668Zm10.624.583c0,3.637.485,5.141,2.475,5.141a12.332,12.332,0,0,0,3.879-1.31c-1.212-1.406-1.212-2.327-1.794-30.169L1136.269,397Z"
                    transform="translate(-793.247 -394.042)" fill="#004656" />
            </svg>
        </div> --}}

        <div class="cart">
            <div class="head">
                <h1 class="cart-title">سلة تبرعاتك</h1>

            </div>
            <livewire:site.carts.show />



    </main>


    @php
        $ga4Items = $cartDatabase->getItems()->map(function ($item) {
            return [
                'item_id' => $item->id ?? 'unknown_id',
                'item_name' => $item->item_name ?? 'Unknown Project',
                'price' => (float) ($item->price ?? 0),
                'quantity' => (int) ($item->quantity ?? 1),
            ];
        })->toArray();
    @endphp
    
    <script>
        dataLayer.push({
          event: 'view_cart',
          ecommerce: {
            value: {{ $cartDatabase->getItemsWithInfo()['total'] }},
            currency: 'SAR',
            items: @json($ga4Items)
          }
        });
    </script>
    
@endsection
